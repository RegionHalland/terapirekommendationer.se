
//Sets the amount of chapters
$chapterLength: 26;

//Defines colors for print
$blue: #004B93;

@media print {

    /*@prince-pdf {
        prince-pdf-page-layout: two-column
    }*/
    html, body {
        font-family: source-sans-pro;
        h1,h2,h3,h4,h5,h6 {
            font-family: source-sans-pro;
        }
        h1 {
            color:black;
            margin-bottom:0;
        }
        h2,h3,h4 {
            color:#004B93 !important;
            -webkit-print-color-adjust: exact; 
            margin-bottom:0;
            padding-bottom:0;
        }
        p{
            font-size:10pt;
            font-family: serif;
        }
        //font-family: crimson-text;
    }
    
    //Set column-count, inner padding and chapter counter - Needs review
    .main {
        column-count:2;
        column-gap:10mm;
        padding:5mm;
        position:relative;
    }

    table, tr, td{
        width: 100%;
        padding:1cm;
        border: 1px solid #e5e5e5;
        border-collapse: collapse;
    }

    th{
        padding: 10px 15px;
        background:$blue;
        text-transform: uppercase;
        color:white;
    }


    //Increments chapter for every chapter section <div class="section"> in document and fetches chapter name from PrinceXML's string-set function
    .section {
        counter-increment: chapter;
        h1 {
            string-set: chapterName content();
            &::before {
                content: 'Kapitel ' counter(chapter) ' · '; 
            } 
        }
    }

    //Styles for chapter marker
    .chapter-header {
        flow: static(chapterHeader);
        content: counter(chapter); 
        font-size:12pt;
        font-family: source-sans-pro;
        text-align: center;
        padding:0.33em;
        font-weight:bold;
        color:white;
        background-color:$blue;
    }
    

    //Adjusts margins for print
    @page :left {
        margin: 15mm 25mm 15mm 10mm;
    }
    @page :right {
        margin: 15mm 10mm 15mm 25mm;
    }

    // Loops through chapters and adds page numbers, chapter title and lastly chapter number 
    // based on hardcoded chapter-number div
    @for $i from 1 through $chapterLength {
        .section:nth-child(#{$chapterLength}n + #{$i}) {
            page:chapter#{$i};
        }
        @page chapter#{$i} {
            @right-top {
                padding-top:#{$i * 0.25}cm;
            }
            @left-top{
                padding-top:#{$i * 0.25}cm;
            }
        }
        @page chapter#{$i}:left {
            @bottom-left { 
              content: counter(page); 
              font-family: source-sans-pro;
              font-size:10pt;
              font-weight:bold;
              margin-left:5mm;
              margin-bottom:5mm;
            }
            @left-top { 
              content: element(chapterHeader);
            }
            @bottom-right {
              content: 'Kapitel ' counter(chapter) ' · ' string(chapterName); 
              font-size:10pt;
              margin-right:5mm;
              margin-bottom:5mm;
              font-family: source-sans-pro;
            }
        }
        @page chapter#{$i}:right {
            @bottom-right { 
                content: counter(page);
                font-family: source-sans-pro; 
                font-size:10pt;
                font-weight:bold;
                margin-right:5mm;
                margin-bottom:5mm;
            }
            @right-top { 
                content: element(chapterHeader);
            }
            @bottom-left {
                content: 'Kapitel ' counter(chapter) ' · ' string(chapterName);
                font-family: source-sans-pro;
                font-size:10pt;
                margin-left:5mm;
                margin-bottom:5mm;
            }
        }
    }


    //Table of contents - Needs review
    .table-of-contents {
        padding:0;
        margin:10mm 0mm 0mm 0mm;
        column-count:2;
        column-gap:10mm;
        page-break-after:always;
        list-style:none;
        &__header {
            color:black;
        }
        &__chapter, &__subchapter {
            a {
                text-decoration: none;
                color:$blue;
                content: leader('.') target-counter(attr(href, url), page);
            }
        }
        &__chapter {
            font-size:10pt;
            margin-top:2mm;
            margin-bottom:2mm;
            font-family: source-sans-pro;
            font-weight:bold;
            list-style:none;
            color:$blue;
        }
        &__subchapter {
            padding-left:1em;
            font-size:10pt;
            //font-family:source-sans-pro;
        }
    }


    p { 
        widows: 3;
        line-height: 1.3;
        text-align: justify;
        hyphens:auto;
        //text-align: justify;
        //text-justify: inter-word; 
    }
    h1,h2,h3 {
        column-span:all;
    }
    .main {
        ul, ol {
            font-size:10pt;
            font-family: serif;
            padding:0mm 5mm;
            //background:red;
            margin:2.5mm 0mm 0mm 0mm;
            page-break-inside:avoid; 
            li {
                margin:2mm 0mm;
                padding:0;
                //margin-top:5mm;
            }
        }
    }
    h1 {
        page-break-before: always;
        //margin-bottom:40mm;
        padding-bottom:10mm;
        line-height: 1.2;
    }
    h6 {
        font-size:11pt;
        color:black;
        margin:7.5mm 0mm 2mm 0mm;
        padding:0;
    }
    .wp-caption {
        img{
            max-width:100%;
            height:auto;
            page-break-inside:avoid; 
        }
        max-width:100%;
        height:auto;
        page-break-inside:avoid;
    }
    img, {
        //width:100%;
        max-width:100%;
        height:auto;
        page-break-inside:avoid;
    }

    figcaption {
        font-size:10pt;
        font-family: source-sans-pro;
        font-style:italic;
    }

    .image--full {
        padding:1em;
        column-span:all;
        page-break-before: auto;
        page-break-after: auto; 
        page-break-inside: avoid;
        position: relative;
        display:block;
        width:100%;
        background:#eaeaea;
        height:500px;
        -webkit-print-color-adjust: exact;
    }

    .image--small {
        height:400px;
        -webkit-print-color-adjust: exact; 
        width:100%;
        background:#eaeaea;
    }
}

/* COMPONENTS */
ul.segment {
    list-style: none;
    border:1px solid #eaeaea;
    padding:0;
    margin:0;
    li:first-child{
        font-family: source-sans-pro;
        text-align: center;
        background:$blue;
        color:white;
        text-transform: uppercase;
        padding:20px;
        margin:0;
        font-size:14px;
    }li{
        padding-left: 20px;
    }
}

@font-face {
  font-family: 'source-sans';
  src:url('../fonts/SourceSansPro-SemiBold.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
}

/*@font-face {
  //font-family: crimson-text;
  src: url(../fonts/CrimsonText-Regular.ttf);
  font-weight: normal;
  font-style: normal;
}

@font-face {
  //font-family: crimson-text;
  src: url(../fonts/CrimsonText-Italic.ttf);
  font-weight: normal;
  font-style: italic;
}

@font-face {
  //font-family: crimson-text;
  src: url(../fonts/CrimsonText-SemiBold.ttf);
  font-weight: 700;
  font-style: normal;
}

@font-face {
  //font-family: crimson-text;
  src: url(../fonts/CrimsonText-SemiBoldItalic.ttf);
  font-weight: 700;
  font-style: italic;
}

@font-face {
  //font-family: crimson-text;
  src: url(../fonts/CrimsonText-Bold.ttf);
  font-weight: 800;
  font-style: normal;
}

@font-face {
  //font-family: crimson-text;
  src: url(../fonts/CrimsonText-BoldItalic.ttf);
  font-weight: 800;
  font-style: italic;
}*/

@font-face {
  font-family: source-sans-pro;
  src: url(../fonts/SourceSansPro-Regular.ttf);
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: source-sans-pro;
  src: url(../fonts/SourceSansPro-Italic.ttf);
  font-weight: normal;
  font-style: italic;
}

@font-face {
  font-family: source-sans-pro;
  src: url(../fonts/SourceSansPro-SemiBold.ttf);
  font-weight: 700;
  font-style: normal;
}


/* From normalize */
article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
menu,
nav,
section,
summary {
  display: block;
}