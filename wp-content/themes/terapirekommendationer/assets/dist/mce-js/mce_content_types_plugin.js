!function(){tinymce.create("tinymce.plugins.tr",{init:function(t,n){var e,o;t.on("nodeChange",function(t){o=t.parents[t.parents.length-1],e=t.parents}),t.addButton("infobox_background",{type:"button",text:"Blå bakgrund",icon:!1,onclick:function(){var t=tinyMCE.activeEditor.selection,n=t.getBookmark();if(e.filter(function(t){return"DIV"==t.nodeName}).length>0){var i=jQuery(o).contents();jQuery(i).unwrap()}else t.setContent('<div class="infobox--background">'+t.getContent()+"</div>");t.moveToBookmark(n),tinyMCE.activeEditor.undoManager.add()}}),t.addButton("infobox_border",{type:"button",text:"Blå ram",icon:!1,onclick:function(){var t=tinyMCE.activeEditor.selection,n=t.getBookmark();if(e.filter(function(t){return"DIV"==t.nodeName}).length>0){var i=jQuery(o).contents();jQuery(i).unwrap()}else t.setContent('<div class="infobox--border">'+t.getContent()+"</div>");t.moveToBookmark(n),tinyMCE.activeEditor.undoManager.add()}}),t.addButton("infobox_children",{type:"button",text:"Målgrupp: Barn",icon:!1,onclick:function(){var t=tinyMCE.activeEditor.selection,n=t.getBookmark();if(e.filter(function(t){return"DIV"==t.nodeName}).length>0){var i=jQuery(o).find(".infobox__content").html();jQuery(o).remove(),t.setContent(i)}else t.setContent('<div class="infobox--children"><header class="infobox__header"><strong>Barn</strong></header><div class="infobox__content">'+t.getContent()+"</div></div>");t.moveToBookmark(n),tinyMCE.activeEditor.undoManager.add()}}),t.addButton("infobox_elder",{type:"button",text:"Målgrupp: Äldre",icon:!1,onclick:function(){var t=tinyMCE.activeEditor.selection,n=t.getBookmark();if(e.filter(function(t){return"DIV"==t.nodeName}).length>0){var i=jQuery(o).find(".infobox__content").html();jQuery(o).remove(),t.setContent(i)}else t.setContent('<div class="infobox--elderly"><header class="infobox__header"><strong>Äldre</strong></header><div class="infobox__content">'+t.getContent()+"</div></div>");t.moveToBookmark(n),tinyMCE.activeEditor.undoManager.add()}}),t.addButton("figure_comment",{type:"button",text:"Figurkommentar",icon:!1,onclick:function(){t.formatter.register("figure_comment_format",{inline:"span",classes:"figurecomment"}),t.formatter.toggle("figure_comment_format");var n=this;t.formatter.formatChanged("figure_comment_format",function(t){n.active(t)})}})}}),tinymce.PluginManager.add("tr",tinymce.plugins.tr)}();