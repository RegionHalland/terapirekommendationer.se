!function(){tinymce.create("tinymce.plugins.tr",{init:function(n,t){var e,o;n.on("nodeChange",function(n){o=n.parents[n.parents.length-1],e=n.parents}),n.addButton("infobox_background",{type:"button",text:"Blå bakgrund",icon:!1,onclick:function(){var n=tinyMCE.activeEditor.selection,t=n.getBookmark();if(e.filter(function(n){return"DIV"==n.nodeName}).length>0){var i=jQuery(o).contents();jQuery(i).unwrap()}else n.setContent('<div class="infobox--background">'+n.getContent()+"</div>");n.moveToBookmark(t),tinyMCE.activeEditor.undoManager.add()}}),n.addButton("infobox_border",{type:"button",text:"Blå ram",icon:!1,onclick:function(){var n=tinyMCE.activeEditor.selection,t=n.getBookmark();if(e.filter(function(n){return"DIV"==n.nodeName}).length>0){var i=jQuery(o).contents();jQuery(i).unwrap()}else n.setContent('<div class="infobox--border">'+n.getContent()+"</div>"),n=tinyMCE.activeEditor.selection;n.moveToBookmark(t),tinyMCE.activeEditor.undoManager.add()}}),n.addButton("infobox_children",{type:"button",text:"Målgrupp: Barn",icon:!1,onclick:function(){var n=tinyMCE.activeEditor.selection;if(e.filter(function(n){return"DIV"==n.nodeName}).length>0){var t=jQuery(o).find(".infobox__content").html();jQuery(o).remove(),n.setContent(t)}else n.setContent('<div class="infobox--children"><header class="infobox__header"><strong>Barn</strong></header><div class="infobox__content">'+n.getContent()+"</div></div>");n.moveToBookmark(bm),tinyMCE.activeEditor.undoManager.add()}}),n.addButton("infobox_elder",{type:"button",text:"Målgrupp: Äldre",icon:!1,onclick:function(){var n=tinyMCE.activeEditor.selection,t=n.getBookmark();if(e.filter(function(n){return"DIV"==n.nodeName}).length>0){var i=jQuery(o).find(".infobox__content").html();jQuery(o).remove(),n.setContent(i)}else n.setContent('<div class="infobox--elderly"><header class="infobox__header"><strong>Äldre</strong></header><div class="infobox__content">'+n.getContent()+"</div></div>");n.moveToBookmark(t),tinyMCE.activeEditor.undoManager.add()}})}}),tinymce.PluginManager.add("tr",tinymce.plugins.tr)}();