var Terapirekommendationer;!function(e){function t(){this.init()}e.get("https://regionhalland.github.io/styleguide/dist/icons/sprite.svg",function(e){var t=document.createElement("div");t.className="display-none",t.innerHTML=(new XMLSerializer).serializeToString(e.documentElement),document.body.insertBefore(t,document.body.childNodes[0])});var i=algoliasearch("16DY3X1DMY","efd311c980dd4dc470f5629ab96a1377").initIndex("tr_wp_posts_page");e("#search-input").autocomplete({hint:!1},[{source:e.fn.autocomplete.sources.hits(i,{hitsPerPage:5}),displayKey:"my_attribute",templates:{suggestion:function(e){return console.log(e),e._highlightResult.post_title.value}}}]).on("autocomplete:selected",function(e,t,i){console.log(t,i)}),t.prototype.init=function(){var t=this;e(document).on("click","button[data-load-submenu]",function(e){e.preventDefault(),t.useAjax(this)?(t.ajaxLoadItems(this),t.toggleSibling(this)):t.toggleSibling(this)})},t.prototype.useAjax=function(t){return!e(t).parents("li").first().children("ul").length},t.prototype.ajaxLoadItems=function(t){var i=this.getItemId(t);if(void 0===i)return window.location.href=e(t).siblings("a").attr("href"),!1;e(t).parents("li").first().addClass("is-loading"),e.ajax({url:HbgPrimeArgs.api.root+"municipio/v1/navigation/"+i,method:"GET",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",HbgPrimeArgs.api.nonce)}}).done(function(i){""!==i.length?(e(t).parents("li").first().append(i),e(t).siblings(".sub-menu")):window.location.href=e(t).attr("href"),e(t).parents("li").first().removeClass("is-loading")}.bind(t)).fail(function(){window.location.href=e(t).attr("href")}.bind(t))},t.prototype.getItemId=function(t){return e(t).data("load-submenu")},t.prototype.toggleSibling=function(t){e(t).parents("li").first().toggleClass("is-expanded")},new t}(jQuery);